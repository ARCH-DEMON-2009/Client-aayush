<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Crypto & NFT Prices</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .active-tab {
      background-color: #2563eb;
      color: white;
    }
  </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
  <div class="max-w-6xl mx-auto px-4 py-10">
    <h1 class="text-3xl md:text-4xl font-bold text-center mb-4">ðŸ“ˆ Live Crypto & NFT Prices</h1>
    <p class="text-center text-gray-400 mb-8">Search or filter, then click any item to buy via Telegram.</p>

    <!-- Search & Filter -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6">
      <input
        type="text"
        id="search"
        placeholder="Search coins or NFTs..."
        class="w-full md:w-1/2 px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-600"
        oninput="filterDisplay()"
      />
      <div class="flex gap-2 mt-2 md:mt-0">
        <button class="tab-btn px-4 py-2 rounded-lg bg-gray-700 text-sm" onclick="setCategory('all')">All</button>
        <button class="tab-btn px-4 py-2 rounded-lg bg-gray-700 text-sm" onclick="setCategory('coin')">Coins</button>
        <button class="tab-btn px-4 py-2 rounded-lg bg-gray-700 text-sm" onclick="setCategory('nft')">NFTs</button>
      </div>
    </div>

    <!-- Coin Grid -->
    <div id="crypto-prices" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>

    <!-- Telegram CTA -->
    <div class="text-center mt-10">
      <p class="text-sm text-gray-400 mb-4">
        Want something not listed here? Contact me on Telegram and Iâ€™ll make it available!
      </p>
      <a href="https://t.me/SHASHANKsv10_01" target="_blank"
         class="bg-blue-600 text-white px-6 py-3 rounded-full shadow hover:bg-blue-700 transition">
        ðŸ’¬ Contact on Telegram
      </a>
    </div>
  </div>

  <script>
    const MARKUP = 0.10;
    const TELEGRAM_USERNAME = "SHASHANKsv10_01";
    let selectedCategory = "all";

    const assets = [
      { name: "Bitcoin (BTC)", id: "bitcoin", type: "coin" },
      { name: "Ethereum (ETH)", id: "ethereum", type: "coin" },
      { name: "Tether (USDT)", id: "tether", type: "coin" },
      { name: "BNB (BNB)", id: "binancecoin", type: "coin" },
      { name: "Solana (SOL)", id: "solana", type: "coin" },
      { name: "Ripple (XRP)", id: "ripple", type: "coin" },
      { name: "Cardano (ADA)", id: "cardano", type: "coin" },
      { name: "Dogecoin (DOGE)", id: "dogecoin", type: "coin" },
      { name: "Polygon (MATIC)", id: "matic-network", type: "coin" },
      { name: "TRON (TRX)", id: "tron", type: "coin" },
      { name: "Litecoin (LTC)", id: "litecoin", type: "coin" },
      { name: "Pepe (PEPE)", id: "pepe", type: "nft" },
      { name: "Shiba Inu (SHIB)", id: "shiba-inu", type: "nft" },
      { name: "Axie Infinity (AXS)", id: "axie-infinity", type: "nft" },
      { name: "The Sandbox (SAND)", id: "the-sandbox", type: "nft" },
      { name: "Decentraland (MANA)", id: "decentraland", type: "nft" },
      { name: "Chainlink (LINK)", id: "chainlink", type: "coin" },
      { name: "Aptos (APT)", id: "aptos", type: "coin" },
      { name: "Arbitrum (ARB)", id: "arbitrum", type: "coin" },
      { name: "THORChain (RUNE)", id: "thorchain", type: "coin" }
    ];

    let livePrices = {};

    async function fetchPrices() {
      const ids = assets.map(a => a.id).join(",");
      const res = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${ids}&vs_currencies=inr`);
      const data = await res.json();
      assets.forEach(asset => {
        const base = data[asset.id]?.inr;
        if (base) livePrices[asset.name] = Math.round(base * (1 + MARKUP));
      });
      filterDisplay();
    }

    function setCategory(cat) {
      selectedCategory = cat;
      document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active-tab'));
      const index = ['all', 'coin', 'nft'].indexOf(cat);
      document.querySelectorAll('.tab-btn')[index].classList.add('active-tab');
      filterDisplay();
    }

    function filterDisplay() {
      const container = document.getElementById("crypto-prices");
      const query = document.getElementById("search").value.toLowerCase();
      container.innerHTML = "";

      assets.forEach(asset => {
        const matchCategory = selectedCategory === "all" || asset.type === selectedCategory;
        const matchSearch = asset.name.toLowerCase().includes(query);
        if (!matchCategory || !matchSearch) return;

        const price = livePrices[asset.name];
        if (!price) return;

        const div = document.createElement("div");
        div.className =
          "bg-gray-800 text-white rounded-2xl p-4 shadow-md hover:shadow-xl transition hover:bg-gray-700 cursor-pointer";
        div.onclick = () => {
          const message = encodeURIComponent(`Hi, I'm interested in buying "${asset.name}" at INR ${price.toLocaleString()}.`);
          const link = `https://t.me/${TELEGRAM_USERNAME}?text=${message}`;
          window.open(link, "_blank");
        };
        div.innerHTML = `
          <div class="flex justify-between items-center">
            <div class="font-medium">${asset.name}</div>
            <div class="text-lg font-semibold">â‚¹ ${price.toLocaleString()}</div>
          </div>`;
        container.appendChild(div);
      });
    }

    window.onload = () => {
      fetchPrices();
      setInterval(fetchPrices, 60000);
    };
  </script>
</body>
</html>
